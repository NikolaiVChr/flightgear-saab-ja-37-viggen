<?xml version="1.0"?>

<PropertyList>

  <path>aj37.ac</path>

  <animation>
    <type>noshadow</type>
    <object-name>glassOuter</object-name>
    <object-name>glassFrontOuter</object-name>
  </animation>

  <!-- ====== drop tank ====== -->
  <animation>
    <object-name>aj37dropTank</object-name>
    <type>select</type>
    <condition>
      <not><property>consumables/fuel/tank[8]/jettisoned</property></not>
    </condition>
  </animation>


  <!--        m55              -->
  <!-- Left wing pylon -->
  <model>
    <path>Aircraft/JA37/Models/Armament/Weapons/M55/m55.xml</path>
    <name>m550</name><!--unique object name, matches name below-->
    <offsets>
     <x-m>  3.06450 </x-m>
     <y-m> -2.69858 </y-m>
     <z-m> -0.83207 </z-m>
    </offsets>
  </model>

  <animation>
    <object-name>m550</object-name><!--unique object name, matches name above-->
    <type>select</type>
    <condition>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <equals>
        <property>payload/armament/station/id-1-type-id</property>
        <value>12</value>
      </equals>
    </condition>
  </animation>

  <!-- Right wing pylon -->
  <model>
    <path>Aircraft/JA37/Models/Armament/Weapons/M55/m55.xml</path>
    <name>m551</name><!--unique object name, matches name below-->
    <offsets>
     <x-m>  3.06450 </x-m>
     <y-m>  2.69858 </y-m>
     <z-m> -0.83207 </z-m>
    </offsets>
  </model>

  <animation>
    <object-name>m551</object-name><!--unique object name, matches name above-->
    <type>select</type>
    <condition>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <equals>
        <property>payload/armament/station/id-3-type-id</property>
        <value>12</value>
      </equals>
    </condition>
  </animation>

  <!--        rb 05            -->
  <!-- Left wing pylon -->
  <model>
    <path>Aircraft/JA37/Models/Armament/Weapons/RB-5005X/rb-5005x.xml</path>
    <name>rb050</name><!--unique object name, matches name below-->
    <offsets>
     <x-m>  2.94779 </x-m>
     <y-m> -2.69829 </y-m>
     <z-m> -0.76311 </z-m>
    </offsets>
  </model>

  <animation>
    <object-name>rb050</object-name><!--unique object name, matches name above-->
    <type>select</type>
    <condition>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <equals>
        <property>payload/armament/station/id-1-type-id</property>
        <value>6</value>
      </equals>
    </condition>
  </animation>

  <!-- Left fuselage pylon -->
  <model>
    <path>Aircraft/JA37/Models/Armament/Weapons/RB-5005X/rb-5005x.xml</path>
    <name>rb051</name><!--unique object name, matches name below-->
    <offsets>
     <x-m> -0.52379 </x-m>
     <y-m> -0.91344 </y-m>
     <z-m> -1.02640 </z-m>
    </offsets>
  </model>

  <animation>
    <object-name>rb051</object-name><!--unique object name, matches name above-->
    <type>select</type>
    <condition>
      <equals>
        <property>payload/armament/station/id-2-type-id</property>
        <value>6</value>
      </equals>
    </condition>
  </animation>

  <!-- Right wing pylon -->
  <model>
    <path>Aircraft/JA37/Models/Armament/Weapons/RB-5005X/rb-5005x.xml</path>
    <name>rb052</name><!--unique object name, matches name below-->
    <offsets>
     <x-m>  2.94779 </x-m>
     <y-m> 2.69829 </y-m>
     <z-m> -0.76311 </z-m>
    </offsets>
  </model>

  <animation>
    <object-name>rb052</object-name><!--unique object name, matches name above-->
    <type>select</type>
    <condition>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <equals>
        <property>payload/armament/station/id-3-type-id</property>
        <value>6</value>
      </equals>
    </condition>
  </animation>

  <!-- Right fuselage pylon -->
  <model>
    <path>Aircraft/JA37/Models/Armament/Weapons/RB-5005X/rb-5005x.xml</path>
    <name>rb053</name><!--unique object name, matches name below-->
    <offsets>
     <x-m> -0.52379 </x-m>
     <y-m>  0.91344 </y-m>
     <z-m> -1.02640 </z-m>
    </offsets>
  </model>

  <animation>
    <object-name>rb053</object-name><!--unique object name, matches name above-->
    <type>select</type>
    <condition>
      <equals>
        <property>payload/armament/station/id-4-type-id</property>
        <value>6</value>
      </equals>
    </condition>
  </animation>

	<!-- livery selection -->

	<animation>
		<type>material</type>
		<object-name>canopy</object-name>
		<object-name>elevonLeftInner</object-name>
		<object-name>elevonLeftOuter</object-name>
		<object-name>elevonRightInner</object-name>
		<object-name>elevonRightOuter</object-name>
		<object-name>flapsLeft</object-name>
		<object-name>flapsRight</object-name>
		<object-name>fuselage</object-name>
		<object-name>wingLeft</object-name>
		<object-name>wingRight</object-name>
		<object-name>rudder</object-name>
		<object-name>gearFrontDoorsOpenLeft</object-name>
		<object-name>gearFrontDoorsOpenRight</object-name>
		<object-name>gearFrontDoorsClosed</object-name>
		<object-name>gearLeftOuterDoor</object-name>
    <object-name>gearLeftInnerDoor</object-name>
    <object-name>gearRightOuterDoor</object-name>
    <object-name>gearRightInnerDoor</object-name>
		<object-name>bottomAirInlet</object-name>
		<object-name>aj37fin</object-name>
		<object-name>aj37dropTank</object-name>
		<object-name>aj37upperPitotTube</object-name>
		<object-name>aj37upperVerticalStabilizer</object-name>
		<property-base>sim/model/livery</property-base>
		<texture-prop>texture</texture-prop>
		<texture>Aircraft/JA37/Models/j37_texture.png</texture>
	</animation>
<!--
	***********************************************************************************
	***********************************************************************************
	*                         Common part between the variants below here             *
	***********************************************************************************
	***********************************************************************************
-->

<!-- include="ja37-bombable.xml">       -->

  <nasal>
      <load><![CDATA[
        var self = cmdarg();

        var livery_update = aircraft.livery_update.new("Aircraft/JA37/Models/Liveries");

        # Aliases for MP properties
        var prop_aliases = {
          "sim/multiplay/generic/float[0]":   "gear/gear[0]/steering-norm",
          "sim/multiplay/generic/float[4]":   "surface-positions/left-inner-aileron-pos-norm",
          "sim/multiplay/generic/float[5]":   "engines/engine/flame",
          "sim/multiplay/generic/float[6]":   "surface-positions/right-inner-aileron-pos-norm",
          "sim/multiplay/generic/float[7]":   "velocities/mach",
          "sim/multiplay/generic/float[16]":  "engines/engine/thrust_lb-absolute",
          "sim/multiplay/generic/float[17]":  "velocities/airspeed-kt",
          "sim/multiplay/generic/float[19]":  "engines/engine/reverser-position",
          "sim/multiplay/generic/short[0]":   "ja37/effect/navigation-light",
          "sim/multiplay/generic/short[1]":   "ja37/effect/formation-light",
          "sim/multiplay/generic/short[2]":   "ja37/effect/rear-navigation-light",
          "sim/multiplay/generic/short[3]":   "ja37/effect/smoke",
          "sim/multiplay/generic/short[4]":   "payload/armament/station/id-1-count",
          "sim/multiplay/generic/short[5]":   "payload/armament/station/id-2-count",
          "sim/multiplay/generic/short[6]":   "payload/armament/station/id-3-count",
          "sim/multiplay/generic/short[7]":   "payload/armament/station/id-4-count",
          "sim/multiplay/generic/short[8]":   "payload/armament/station/id-1-type-id",
          "sim/multiplay/generic/short[9]":   "payload/armament/station/id-2-type-id",
          "sim/multiplay/generic/short[10]":  "payload/armament/station/id-3-type-id",
          "sim/multiplay/generic/short[11]":  "payload/armament/station/id-4-type-id",
          "sim/multiplay/generic/bool[0]":    "ja37/effect/landing-light",
          "sim/multiplay/generic/bool[1]":    "ja37/effect/taxi-light",
          "sim/multiplay/generic/bool[2]":    "ja37/effect/beacon-light",
          "sim/multiplay/generic/bool[3]":    "ja37/effect/damage-smoke",
          "sim/multiplay/generic/bool[5]":    "fdm/jsbsim/effects/wingtip-vapour",
          "sim/multiplay/generic/bool[6]":    "payload/armament/station/id-5-count",
          "sim/multiplay/generic/bool[7]":    "payload/armament/station/id-6-count",
          "sim/multiplay/generic/bool[8]":    "consumables/fuel/tank[8]/jettisoned",
          "sim/multiplay/generic/bool[9]":    "engines/engine/running",
          "sim/multiplay/generic/bool[10]":   "engines/engine/augmentation",
          "sim/multiplay/generic/bool[11]":   "engines/engine/is-reversed",
          "sim/multiplay/generic/bool[12]":   "fdm/jsbsim/structural/wings/serviceable",
          "sim/multiplay/generic/bool[13]":   "fdm/jsbsim/fcs/canopy/hinges/serviceable",
          "sim/multiplay/generic/bool[14]":   "damage/sounds/explode-on",
          "sim/multiplay/generic/bool[15]":   "controls/gear/chocks",
          "rotors/main/blade[0]/position-deg":  "gear/gear[0]/rollspeed-ms",
          "rotors/main/blade[1]/position-deg":  "gear/gear[2]/rollspeed-ms",
          "rotors/main/blade[2]/position-deg":  "gear/gear[1]/rollspeed-ms",
          "rotors/tail/rpm":                  "orientation/alpha-deg",
        };

        foreach (var path; keys(prop_aliases)) {
          var mp_prop = self.getNode(path);
          if (mp_prop == nil) continue;

          var alias_prop = self.getNode(prop_aliases[path], 1);
          alias_prop.unalias();
          alias_prop.alias(mp_prop);
        }

        self.setValue("ja37/systems/variant", 2);
      ]]>
      </load>

      <unload><![CDATA[
        livery_update.stop();

        # Remove aliases
        foreach (var path; keys(prop_aliases)) {
          var prop = self.getNode(prop_aliases[path]);
          if (prop != nil) prop.unalias();
        }
      ]]>
      </unload>
  </nasal>

  <!--        Interior    -->
  <model>
    <name>interior</name>
    <usage>interior</usage>
    <path>Aircraft/JA37/Models/aj37-interior.xml</path>
  </model>

  <model>
    <name>pilot</name>
    <path>Aircraft/JA37/Models/Cockpit/pilot/pilot.xml</path>
    <offsets>
      <x-m>-3.650</x-m>
      <y-m> 0.000</y-m>
      <z-m> 0.300</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Cockpit/seat/seat.xml</path>
    <offsets>
      <x-m>-3.2541</x-m>
      <y-m> 0.0000</y-m>
      <z-m> 0.2739</z-m>
    </offsets>
  </model>

<!-- Material shaders   -->
  <effect>
    <inherits-from>Aircraft/JA37/Models/Effects/fuselage/viggen-fuselage</inherits-from>
    <object-name>canopy</object-name>
    <object-name>elevonLeftInner</object-name>
    <object-name>elevonLeftOuter</object-name>
    <object-name>elevonRightInner</object-name>
    <object-name>elevonRightOuter</object-name>
    <object-name>flapsLeft</object-name>
    <object-name>flapsRight</object-name>
    <object-name>fuselage</object-name>
    <object-name>wingLeft</object-name>
    <object-name>wingRight</object-name>
    <object-name>rudder</object-name>
    <object-name>gearFrontBottom</object-name>
    <object-name>gearFrontHub</object-name>
    <object-name>gearFrontTop</object-name>
    <object-name>gearFrontDoorsOpenLeft</object-name>
    <object-name>gearFrontDoorsOpenRight</object-name>
    <object-name>gearFrontDoorsClosed</object-name>
    <object-name>gearLeftBottom</object-name>
    <object-name>gearLeftTop</object-name>
    <object-name>gearRightBottom</object-name>
    <object-name>gearRightTop</object-name>
    <object-name>gearLeftOuterDoor</object-name>
    <object-name>gearLeftInnerDoor</object-name>
    <object-name>gearRightOuterDoor</object-name>
    <object-name>gearRightInnerDoor</object-name>
    <object-name>landingLightMount</object-name>
    <object-name>lightFormationFrontRight</object-name>
    <object-name>lightFormationFrontLeft</object-name>
    <object-name>lightFormationRearRight</object-name>
    <object-name>lightFormationRearLeft</object-name>
    <object-name>bottomAirInlet</object-name>
    <object-name>aj37fin</object-name>
    <object-name>aj37dropTank</object-name>
    <object-name>aj37upperPitotTube</object-name>
    <object-name>aj37upperVerticalStabilizer</object-name>
  </effect>

  <effect>
    <inherits-from>Aircraft/JA37/Models/Effects/ja37-cockpit-shader</inherits-from>
    <object-name>aj37dashPanel</object-name>
    <object-name>bottom</object-name>
    <object-name>innerWall_back</object-name>
    <object-name>innerWall_front</object-name>
    <object-name>innerWall_sides</object-name>
    <object-name>sidePanel_L</object-name>
    <object-name>sidePanel_R</object-name>
    <object-name>seat</object-name>
  </effect>

  <!-- does this work at all? -->
  <effect>
    <inherits-from>Aircraft/JA37/Models/Effects/ja37-glass-combined</inherits-from>
    <object-name>glassOuter</object-name>
    <object-name>glassFrontOuter</object-name>
  </effect>

  <effect>
    <inherits-from>Aircraft/JA37/Models/Effects/ja37-metal</inherits-from>
    <object-name>gearFrontOleoStrut</object-name>
    <object-name>gearLeftOleoStrut</object-name>
    <object-name>gearRightOleoStrut</object-name>
    <object-name>gearRightScissorTop</object-name>
    <object-name>gearRightScissorBottom</object-name>
    <object-name>gearLeftScissorTop</object-name>
    <object-name>gearLeftScissorBottom</object-name>
    <object-name>gearFrontScissorTop</object-name>
    <object-name>gearFrontScissorBottom</object-name>
    <object-name>reverser1</object-name>
    <object-name>reverser2</object-name>
    <object-name>reverser3</object-name>
    <object-name>canopyinside</object-name>
    <object-name>fuselageinside</object-name>
    <object-name>engineOutlet</object-name>
    <object-name>engineRear</object-name>
    <object-name>outletCover</object-name>
  </effect>

  <effect>  
    <inherits-from>Aircraft/JA37/Models/Effects/ja37-nozzle-combined</inherits-from>
    <object-name>nozzle</object-name>
  </effect>

<!-- Fuselage animations -->

    <animation>
     <type>translate</type>
     <object-name>outletCover</object-name>
     <property>ja37/systems/tertiary-opening</property>
     <factor>-0.35</factor>
     <axis>
       <x>1</x>
     </axis>
     <center>
          <x-m>0</x-m>
          <y-m>0</y-m>
          <z-m>0</z-m>
      </center>
  </animation>

  <model>
    <name>ext-power</name>
    <path>Aircraft/JA37/Models/GroundEquipment/ext-power.ac</path>
    <offsets>
      <x-m> 0.25</x-m>
      <y-m> 9.15</y-m>
      <z-m> 0.0</z-m>
    </offsets>
  </model>

  <animation>
     <type>translate</type>
     <object-name>ext-power</object-name>
     <property>fdm/jsbsim/systems/electrical/ext-power-z-m</property>
     <factor>1</factor>
     <axis>
       <z>1</z>
     </axis>
     <center>
          <x-m>0</x-m>
          <y-m>0.0</y-m>
          <z-m>0</z-m>
      </center>
  </animation>

  <animation>
    <type>select</type>
    <object-name>ext-power</object-name>
    <condition>
      <property>fdm/jsbsim/systems/electrical/external/available</property>
    </condition>
  </animation>

  <animation>
    <type>rotate</type>
    <object-name>glassOuter</object-name>
    <object-name>canopy</object-name>
    <object-name>canopyinside</object-name>
    <property>canopy/position-norm</property><!-- auto MP transmit -->
    <factor>55.0</factor>
    <center>
     <x-m>-2.67098</x-m>
     <y-m>0.000003</y-m>
     <z-m>1.01043</z-m>
    </center>
    <axis>
     <x>0.0</x>
     <y>1.0</y>
     <z>0.0</z>
    </axis>
  </animation>

  <animation>
    <type>select</type>
    <object-name>glassOuter</object-name>
    <object-name>canopy</object-name>
    <object-name>canopyinside</object-name>
    <condition>
      <property>fdm/jsbsim/fcs/canopy/hinges/serviceable</property>
    </condition>
  </animation>

<animation>
  <type>rotate</type>
  <object-name>reverser1</object-name>
  <property>engines/engine/reverser-position</property>
  <factor>50.0</factor>
  <axis>   
   <x1-m> 6.15 </x1-m>
   <y1-m> -0.41069 </y1-m>
   <z1-m> -0.41069 </z1-m>
   <x2-m> 6.15 </x2-m>
   <y2-m> -0.15032 </y2-m>
   <z2-m> -0.56101 </z2-m>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>reverser2</object-name>
  <property>engines/engine/reverser-position</property>
  <factor>50.0</factor>
  <axis>   
   <x1-m> 6.15 </x1-m>
   <y1-m> 0.56101 </y1-m>
   <z1-m> -0.15033 </z1-m>
   <x2-m> 6.15 </x2-m>
   <y2-m> 0.56101 </y2-m>
   <z2-m> 0.15033 </z2-m>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>reverser3</object-name>
  <property>engines/engine/reverser-position</property>
  <factor>50.0</factor>
  <axis>   
   <x1-m> 6.15 </x1-m>
   <y1-m> -0.15033 </y1-m>
   <z1-m> 0.56101 </z1-m>
   <x2-m> 6.15 </x2-m>
   <y2-m> -0.41069 </y2-m>
   <z2-m> 0.41069 </z2-m>
  </axis>
 </animation>

<animation>
  <type>scale</type>
  <object-name>reverser1</object-name>
  <object-name>reverser2</object-name>
  <object-name>reverser3</object-name>
  <property>engines/engine/reverser-position</property>
  <interpolation>
   <entry>
    <ind> 0.99 </ind>
    <dep> 1.00 </dep>
   </entry>
   <entry>
    <ind> 1.00 </ind>
    <dep> 0.01 </dep>
   </entry>
  </interpolation>
  <center>
   <x-m>  6.5 </x-m>
   <y-m>  0 </y-m>
   <z-m>  0 </z-m>
  </center>
  <x-min>0.0</x-min>
  <y-min>0.0</y-min>
  <z-min>0.0</z-min>
  <x-max>1.0</x-max>
  <y-max>1.0</y-max>
  <z-max>1.0</z-max>  
  <axis>
   <x>1.0</x>
   <y>0.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<!-- Control surfaces -->

<animation>
  <type>rotate</type>
  <object-name>rudder</object-name>
  <property>surface-positions/rudder-pos-norm</property>
  <factor>25</factor>
  <axis>   
   <x2-m> 5.70491</x2-m>
   <y1-m> 0</y1-m>
   <z2-m> 3.04123</z2-m>
   <x1-m> 5.70220</x1-m>
   <y2-m> 0 </y2-m>
   <z1-m> 1.09636</z1-m>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>elevonRightOuter</object-name>
  <object-name>spotlightElevonRight</object-name>
  <object-name>spotlightElevonRightGlow</object-name>
  <property>surface-positions/right-aileron-pos-norm</property>
  <factor>40.0</factor>
  <axis>
   <x1-m> 5.84096 </x1-m>
   <y1-m> 0.99576 </y1-m>
   <z1-m> -0.31533 </z1-m>
   <x2-m> 5.84928 </x2-m>
   <y2-m> 5.10587 </y2-m>
   <z2-m> -0.39563 </z2-m>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>elevonLeftOuter</object-name>
  <object-name>spotlightElevonLeft</object-name>
  <object-name>spotlightElevonLeftGlow</object-name>
  <property>surface-positions/left-aileron-pos-norm</property>
  <factor>40.0</factor>
  <axis>
   <x2-m> 5.84096 </x2-m>
   <y2-m> -0.99576 </y2-m>
   <z2-m> -0.31533 </z2-m>
   <x1-m> 5.84928 </x1-m>
   <y1-m> -5.10587 </y1-m>
   <z1-m> -0.39563 </z1-m>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>elevonRightInner</object-name>
  <property>surface-positions/right-inner-aileron-pos-norm</property>
  <factor>40.0</factor>
  <axis>
   <x1-m> 5.84096 </x1-m>
   <y1-m> 0.99576 </y1-m>
   <z1-m> -0.31533 </z1-m>
   <x2-m> 5.84928 </x2-m>
   <y2-m> 5.10587 </y2-m>
   <z2-m> -0.39563 </z2-m>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>elevonLeftInner</object-name>
  <property>surface-positions/left-inner-aileron-pos-norm</property>
  <factor>40.0</factor>
  <axis>
   <x2-m> 5.84096 </x2-m>
   <y2-m> -0.99576 </y2-m>
   <z2-m> -0.31533 </z2-m>
   <x1-m> 5.84928 </x1-m>
   <y1-m> -5.10587 </y1-m>
   <z1-m> -0.39563 </z1-m>
  </axis>
 </animation>

 <animation>
  <type>select</type>
  <object-name>elevonLeftInner</object-name>
  <object-name>elevonLeftOuter</object-name>
  <object-name>elevonRightInner</object-name>
  <object-name>elevonRightOuter</object-name>
  <object-name>lightRight</object-name>
  <object-name>lightLeft</object-name>
  <object-name>lightRearRight</object-name>
  <object-name>lightRearLeft</object-name>
  <object-name>spotlightElevonLeft</object-name>
  <object-name>spotlightElevonRight</object-name>
  <object-name>wingRight</object-name>
  <object-name>wingLeft</object-name>
  <condition>
   <or>
    <property>fdm/jsbsim/structural/wings/serviceable</property>
    <!-- backward compatibility -->
    <property>sim/hitches/aerotow/is-slave</property>
   </or>
  </condition>
 </animation>

 <animation>
   <type>rotate</type>
   <object-name>flapsLeft</object-name>
   <property>surface-positions/flap-pos-norm</property>
   <!-- This is just <factor>-30</factor> clamped to angles -7 to 30
        The clamping makes the animation somewhat less broken on older MP aircraft versions
        (which used flap-pos-norm as degree instead of normalised position).
        To be removed later.
   -->
   <interpolation>
     <entry><ind>-0.23333</ind><dep>7.0</dep></entry>
     <entry><ind>1.0</ind><dep>-30.0</dep></entry>
   </interpolation>
   <axis>
     <x1-m> -0.492662 </x1-m>
     <y1-m> -1.17726 </y1-m>
     <z1-m> 0.174372 </z1-m>
     <x2-m> -0.261458 </x2-m>
     <y2-m> -2.5736 </y2-m>
     <z2-m> 0.091827 </z2-m>
   </axis>
 </animation>

 <animation>
   <type>rotate</type>
   <object-name>flapsRight</object-name>
   <property>surface-positions/flap-pos-norm</property>
   <!-- This is just <factor>-30</factor> clamped to angles -7 to 30
        The clamping makes the animation somewhat less broken on older MP aircraft versions
        (which used flap-pos-norm as degree instead of normalised position).
        To be removed later.
   -->
   <interpolation>
     <entry><ind>-0.23333</ind><dep>-4.0</dep></entry>
     <entry><ind>1.0</ind><dep>30.0</dep></entry>
   </interpolation>
   <axis>
     <x1-m> -0.492662 </x1-m>
     <y1-m> 1.17726 </y1-m>
     <z1-m> 0.174372 </z1-m>
     <x2-m> -0.261458 </x2-m>
     <y2-m> 2.5736 </y2-m>
     <z2-m> 0.091827 </z2-m>
   </axis>
 </animation>

<!-- *****************************************
                      Gears

     ***************************************** -->

<!-- front  -->

  <model>
    <name>chockFrontF</name>
    <path>GroundEquipment/chock.ac</path>
    <offsets>
      <x-m>-3.4694</x-m>
      <y-m>0.0</y-m>
      <z-m>-2.1</z-m>
      <heading-deg>0</heading-deg>
    </offsets>
  </model>

  <model>
    <name>chockFrontB</name>
    <path>GroundEquipment/chock.ac</path>
    <offsets>
      <x-m>-3.2694</x-m>
      <y-m>0.0</y-m>
      <z-m>-2.1</z-m>
      <heading-deg>180</heading-deg>
    </offsets>
  </model>

<!--<animation>
  <type>select</type>
  <condition>
   <equals>
    <property>gear/gear[0]/position-norm</property>
    <value>0.0</value>
   </equals>
  </condition>
  <object-name>gearFrontDoorsClosed</object-name>
 </animation>-->

 <animation>
  <type>scale</type>
  <object-name>gearFrontDoorsClosed</object-name>
  <property>gear/gear[0]/position-norm</property>
  <interpolation>
   <entry>
    <ind> 0.00 </ind>
    <dep> 1.00 </dep>
   </entry>
   <entry>
    <ind> 0.001 </ind>
    <dep> 0.00 </dep>
   </entry>
  </interpolation>
  <center>
   <x-m>  0 </x-m>
   <y-m>  0 </y-m>
   <z-m>  0 </z-m>
  </center>
  <x-min>0.0</x-min>
  <y-min>0.0</y-min>
  <z-min>0.0</z-min>
  <x-max>1.0</x-max>
  <y-max>1.0</y-max>
  <z-max>1.0</z-max>  
  <axis>
   <x>1.0</x>
   <y>1.0</y>
   <z>1.0</z>
  </axis>
 </animation>

<!--<animation>
  <type>select</type>
  <condition>
   <greater-than>
    <property>gear/gear[0]/position-norm</property>
    <value>0.0</value>
   </greater-than>
  </condition>
  <object-name>gearFrontDoorsOpenLeft</object-name>
  <object-name>gearFrontDoorsOpenRight</object-name>
  <object-name>frontLandingLightGlare</object-name>
 </animation>-->

 <animation>
  <type>scale</type>
  <object-name>gearFrontDoorsOpenLeft</object-name>
  <object-name>gearFrontDoorsOpenRight</object-name>
  <object-name>frontLandingLightGlare</object-name>
  <object-name>leftLandingLightGlare</object-name>
  <object-name>rightLandingLightGlare</object-name>
  <property>gear/gear[0]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.00 </ind>
    <dep> 0.00 </dep>
   </entry>
   <entry>
    <ind> 0.001 </ind>
    <dep> 1.00 </dep>
   </entry>
  </interpolation>
  <center>
   <x-m>  0 </x-m>
   <y-m>  0 </y-m>
   <z-m>  0 </z-m>
  </center>
  <x-min>0.0</x-min>
  <y-min>0.0</y-min>
  <z-min>0.0</z-min>
  <x-max>1.0</x-max>
  <y-max>1.0</y-max>
  <z-max>1.0</z-max>  
  <axis>
   <x>1.0</x>
   <y>1.0</y>
   <z>1.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearFrontDoorsOpenLeft</object-name>
  <property>gear/gear[0]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 90.0</dep>
   </entry>
   <entry>
    <ind> 0.20</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <axis>   
   <x1-m> -4.98851 </x1-m>
   <y1-m> -0.20881 </y1-m>
   <z1-m> -0.78645 </z1-m>
   <x2-m> -3.05037 </x2-m>
   <y2-m> -0.22542 </y2-m>
   <z2-m> -0.80660 </z2-m>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearFrontDoorsOpenRight</object-name>
  <property>gear/gear[0]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 90.0</dep>
   </entry>
   <entry>
    <ind> 0.20</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <axis>   
   <x1-m> -3.05041</x1-m>
   <y1-m> 0.22836</y1-m>
   <z1-m>-0.80326</z1-m>
   <x2-m> -4.98856</x2-m>
   <y2-m>0.21209</y2-m>
   <z2-m>-0.78329</z2-m>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearFrontBottom</object-name>
  <object-name>gearFrontHub</object-name>
  <object-name>gearFrontScissorTop</object-name>
  <object-name>gearFrontScissorBottom</object-name>
  <object-name>gearFrontOleoStrut</object-name>
  <object-name>gearFrontTop</object-name>
  <object-name>gearFrontWheel</object-name>
  <object-name>gearFrontLight</object-name>
  <object-name>frontLandingLightGlare</object-name>
  <property>gear/gear[0]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 110.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>110</max-deg>
  <center>
   <x-m>-3.35848</x-m>
   <y-m>-0.000003</y-m>
   <z-m>-0.68153</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearFrontBottom</object-name>
  <object-name>gearFrontHub</object-name>
  <object-name>gearFrontScissorTop</object-name>
  <object-name>gearFrontScissorBottom</object-name>
  <object-name>gearFrontTop</object-name>
  <object-name>gearFrontWheel</object-name>
  <object-name>gearFrontLight</object-name>
  <object-name>frontLandingLightGlare</object-name>
  <property>gear/gear[0]/steering-norm</property>
  <factor>30</factor>
  <center>
   <x-m>-3.35848</x-m>
   <y-m>-0.000003</y-m>
   <z-m>-0.78153</z-m>
  </center>
  <axis>
   <x>0.0</x>
   <y>0.0</y>
   <z>-1.0</z>
  </axis>
 </animation>

<animation><!--            compress front gear-->
   <type>translate</type>
   <object-name>gearFrontBottom</object-name>
   <object-name>gearFrontHub</object-name>
   <object-name>gearFrontOleoStrut</object-name>
   <object-name>gearFrontScissorBottom</object-name>
   <object-name>gearFrontWheel</object-name>
   <object-name>tyre-smoke-nose</object-name>
   <object-name>tyre-rain-nose</object-name>
   <object-name>chockFrontF</object-name>
   <object-name>chockFrontB</object-name>
   <property>gear/gear[0]/compression-norm</property><!-- auto MP trasmit -->
   <factor>0.3048</factor>
   <axis>
     <z>1</z>
   </axis>
   <center>
        <x-m>-3.37534</x-m>
        <y-m>0.0</y-m>
        <z-m>-1.84812</z-m>
    </center>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearFrontScissorTop</object-name>
   <property>gear/gear[0]/compression-norm</property><!-- auto MP trasmit -->
   <axis>
     <x>1</x>
   </axis>
   <center>  
     <x-m> -3.35424 </x-m>
     <y-m>  0.03597 </y-m>
     <z-m> -1.3040  </z-m>
   </center>
   <interpolation include="scissor-interpolation.xml"/>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearFrontScissorBottom</object-name>
   <property>gear/gear[0]/compression-norm</property><!-- auto MP trasmit -->
   <axis>
     <x>-1</x>
   </axis>
   <center>
     <x-m> -3.35424 </x-m>
     <y-m>  0.03597 </y-m>
     <z-m> -1.5988  </z-m>
   </center>
   <interpolation include="scissor-interpolation.xml"/>
</animation>

<!-- spinning wheel calc

     radius = -1.59622 + 1.84812 = 0.2519
     circum = 2*pi*radius = 1.5827
     factor = 1/circum * 60 = 0.6318 * 60 = 37.9091

-3.38246
-0.11702
-1.84812

-3.38246
 0.17426
-1.84812
     -->
<animation>
    <type>spin</type>
    <object-name>gearFrontWheel</object-name>
    <property>gear/gear[0]/rollspeed-ms</property>
    <factor>37.9091</factor>
    <condition>
      <property>gear/gear[0]/compression-norm</property>
    </condition>
    <center>
        <x-m>-3.3694</x-m>
        <y-m>0.0</y-m>
        <z-m>-1.84812</z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>


<!-- left  -->

  <model>
    <name>chockLeftF</name>
    <path>GroundEquipment/chock.ac</path>
    <offsets>
      <x-m>1.8114</x-m>
      <y-m>-2.1500</y-m>
      <z-m>-2.0856</z-m>
      <heading-deg>0</heading-deg>
    </offsets>
  </model>

  <model>
    <name>chockLeftB</name>
    <path>GroundEquipment/chock.ac</path>
    <offsets>
      <x-m>2.8215</x-m>
      <y-m>-2.1500</y-m>
      <z-m>-2.0856</z-m>
      <heading-deg>180</heading-deg>
    </offsets>
  </model>

<animation>
  <type>select</type>
  <object-name>gearLeftOleoStrut</object-name>
  <object-name>gearLeftScissorTop</object-name>
  <object-name>gearLeftScissorBottom</object-name>
  <object-name>gearLeftBottom</object-name>
  <object-name>gearLeftTop</object-name>
  <object-name>gearLeftWheel1</object-name>
  <object-name>gearLeftWheel2</object-name>
  <object-name>gearLeftOuterDoor</object-name>
  <condition>
    <or>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <!-- backward compatibility -->
      <property>sim/hitches/aerotow/is-slave</property>
    </or>
  </condition>
</animation>

<animation>
  <type>scale</type>
  <object-name>gearLeftOleoStrut</object-name>
  <object-name>gearLeftScissorTop</object-name>
  <object-name>gearLeftScissorBottom</object-name>
  <object-name>gearLeftBottom</object-name>
  <object-name>gearLeftTop</object-name>
  <object-name>gearLeftWheel1</object-name>
  <object-name>gearLeftWheel2</object-name>  
  <property>gear/gear[1]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.00 </ind>
    <dep> 0.10 </dep>
   </entry>
   <entry>
    <ind> 0.001 </ind>
    <dep> 1.00 </dep>
   </entry>
  </interpolation>
  <center>
   <x-m>  2.31352 </x-m>
   <y-m> -2.13284 </y-m>
   <z-m> -0.31244 </z-m>
  </center>
  <x-min>1.0</x-min>
  <y-min>0.10</y-min>
  <z-min>1.0</z-min>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearLeftOleoStrut</object-name>
  <object-name>gearLeftScissorTop</object-name>
  <object-name>gearLeftScissorBottom</object-name>
  <object-name>gearLeftBottom</object-name>
  <object-name>gearLeftTop</object-name>
  <object-name>gearLeftWheel1</object-name>
  <object-name>gearLeftWheel2</object-name>  
  <property>gear/gear[1]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 90.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <center>
   <x-m>  2.31352 </x-m>
   <y-m> -2.13284 </y-m>
   <z-m> -0.31244 </z-m>
  </center>
  <axis>
   <x>1.0</x>
   <y>0.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearLeftOuterDoor</object-name>
  <property>gear/gear[1]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 0.75</ind>
    <dep> 92.5</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep>92.5</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>92.5</max-deg>
  <axis>   
   <x1-m>  3.15291 </x1-m>
   <y1-m> -2.26718 </y1-m>
   <z1-m> -0.37753 </z1-m>
   <x2-m>  2.24979 </x2-m>
   <y2-m> -2.26655 </y2-m>
   <z2-m> -0.37756 </z2-m>
  </axis>
 </animation>

  <animation>
  <type>rotate</type>
  <object-name>gearLeftInnerDoor</object-name>
  <property>gear/gear[2]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 0.20</ind>
    <dep> -130</dep>
   </entry>
   <entry>
    <ind> 0.75</ind>
    <dep> -130</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep>  0</dep>
   </entry>
  </interpolation>
  <min-deg>-130</min-deg>
  <max-deg>0</max-deg>
  <axis>   
   <x1-m>  3.05949 </x1-m>
   <y1-m> -0.62357 </y1-m>
   <z1-m> -0.66289 </z1-m>
   <x2-m>  1.55473 </x2-m>
   <y2-m> -0.62357 </y2-m>
   <z2-m> -0.77957 </z2-m>
  </axis>
 </animation>

<animation><!--            compress left gear-->
   <type>translate</type>
   <object-name>gearLeftOleoStrut</object-name>
   <object-name>gearLeftScissorBottom</object-name>
   <object-name>gearLeftBottom</object-name>
   <object-name>gearLeftWheel1</object-name>
   <object-name>gearLeftWheel2</object-name>
   <object-name>tyre-smoke-left</object-name>
   <object-name>tyre-rain-left</object-name>
   <object-name>chockLeftF</object-name>
   <object-name>chockLeftB</object-name>
   <property>gear/gear[1]/compression-norm</property><!-- auto MP trasmit -->
   <factor>0.3048</factor>
   <axis>
     <z>1</z>
   </axis>
   <center>
        <x-m>  2.64670 </x-m>
        <y-m> -2.33204 </y-m>
        <z-m> -2.1 </z-m>
    </center>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearLeftScissorTop</object-name>
   <property>gear/gear[1]/compression-norm</property><!-- auto MP trasmit -->
   <axis>
     <y>1</y>
   </axis>
   <center>    
     <x-m>  2.27377 </x-m>
     <y-m> -2.11446 </y-m>
     <z-m> -1.2140  </z-m>
   </center>
   <interpolation include="scissor-interpolation.xml"/>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearLeftScissorBottom</object-name>
   <property>gear/gear[1]/compression-norm</property><!-- auto MP trasmit -->
   <axis>
     <y>-1</y>
   </axis>
   <center>  
     <x-m>  2.27377 </x-m>
     <y-m> -2.11446 </y-m>
     <z-m> -1.5088  </z-m>
   </center>
   <interpolation include="scissor-interpolation.xml"/>
</animation>

<!--      compress left gear when retracting (experimental) -->
<animation>
   <type>translate</type>
   <object-name>gearLeftOleoStrut</object-name>
   <object-name>gearLeftScissorBottom</object-name>
   <object-name>gearLeftBottom</object-name>
   <object-name>gearLeftWheel1</object-name>
   <object-name>gearLeftWheel2</object-name>
   <object-name>tyre-smoke-left</object-name>
   <object-name>tyre-rain-left</object-name>
   <property>gear/gear[1]/position-norm</property>
   <factor>-0.3048</factor>
   <offset-m>0.3048</offset-m>
   <axis>
     <z>1</z>
   </axis>
   <center>
        <x-m>  2.64670 </x-m>
        <y-m> -2.33204 </y-m>
        <z-m> -2.1 </z-m>
    </center>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearLeftScissorTop</object-name>
   <property>gear/gear[1]/position-norm</property>
   <axis>
     <y>1</y>
   </axis>
   <center>    
     <x-m>  2.27377 </x-m>
     <y-m> -2.11446 </y-m>
     <z-m> -1.2140  </z-m>
   </center>
   <interpolation include="scissor-interpolation-retract.xml"/>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearLeftScissorBottom</object-name>
   <property>gear/gear[1]/position-norm</property>
   <axis>
     <y>-1</y>
   </axis>
   <center>  
     <x-m>  2.27377 </x-m>
     <y-m> -2.11446 </y-m>
     <z-m> -1.5088  </z-m>
   </center>
   <interpolation include="scissor-interpolation-retract.xml"/>
</animation>

<!-- spinning left wheel calc

     radius = -1.76576 - -2.07213 = 0.30637
     circum = 2*pi*radius = 1.9250
     factor = 1/circum * 60 = 0.6318 * 60 = 31.1692

1st:
1.91138 -2.36257 -1.76576
                 -2.07213
2nd:
2.7215 -2.36257 -1.7642

     -->
<animation>
    <type>spin</type>
    <object-name>gearLeftWheel1</object-name>
    <property>gear/gear[1]/rollspeed-ms</property>
    <factor>31.1692</factor>
    <condition>
      <property>gear/gear[1]/compression-norm</property>
    </condition>
    <center>
        <x-m>  1.91138 </x-m>
        <y-m> -2.18257 </y-m>
        <z-m> -1.76420 </z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>

<animation>
    <type>spin</type>
    <object-name>gearLeftWheel2</object-name>
    <property>gear/gear[1]/rollspeed-ms</property>
    <factor>31.1692</factor>
    <condition>
      <property>gear/gear[1]/compression-norm</property>
    </condition>
    <center>
        <x-m>  2.72150 </x-m>
        <y-m> -2.18257 </y-m>
        <z-m> -1.76420 </z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>


<!--      right       -->

  <model>
    <name>chockRightF</name>
    <path>GroundEquipment/chock.ac</path>
    <offsets>
      <x-m>1.8114</x-m>
      <y-m>2.1500</y-m>
      <z-m>-2.0856</z-m>
      <heading-deg>0</heading-deg>
    </offsets>
  </model>

  <model>
    <name>chockRightB</name>
    <path>GroundEquipment/chock.ac</path>
    <offsets>
      <x-m>2.8215</x-m>
      <y-m>2.1500</y-m>
      <z-m>-2.0856</z-m>
      <heading-deg>180</heading-deg>
    </offsets>
  </model>

<animation>
  <type>select</type>
  <object-name>gearRightScissorTop</object-name>
  <object-name>gearRightScissorBottom</object-name>
  <object-name>gearRightOleoStrut</object-name>
  <object-name>gearRightBottom</object-name>
  <object-name>gearRightTop</object-name>
  <object-name>gearRightWheel1</object-name>
  <object-name>gearRightWheel2</object-name>
  <object-name>gearRightOuterDoor</object-name>
  <condition>
    <or>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <!-- backward compatibility -->
      <property>sim/hitches/aerotow/is-slave</property>
    </or>
  </condition>
</animation>

<animation>
  <type>scale</type>
  <object-name>gearRightScissorTop</object-name>
  <object-name>gearRightScissorBottom</object-name>
  <object-name>gearRightOleoStrut</object-name>
  <object-name>gearRightBottom</object-name>
  <object-name>gearRightTop</object-name>
  <object-name>gearRightWheel1</object-name>
  <object-name>gearRightWheel2</object-name>
  <property>gear/gear[2]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.00 </ind>
    <dep> 0.10 </dep>
   </entry>
   <entry>
    <ind> 0.001 </ind>
    <dep> 1.00 </dep>
   </entry>
  </interpolation>
  <center>
   <x-m>  2.31352 </x-m>
   <y-m>  2.13284 </y-m>
   <z-m> -0.31244 </z-m>
  </center>
  <x-min>1.0</x-min>
  <y-min>0.10</y-min>
  <z-min>1.0</z-min>
  <axis>
   <x>0.0</x>
   <y>1.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearRightScissorTop</object-name>
  <object-name>gearRightScissorBottom</object-name>
  <object-name>gearRightOleoStrut</object-name>
  <object-name>gearRightBottom</object-name>
  <object-name>gearRightTop</object-name>
  <object-name>gearRightWheel1</object-name>
  <object-name>gearRightWheel2</object-name>
  <property>gear/gear[2]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 90.0</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep> 0.0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>90</max-deg>
  <center>
   <x-m>  2.31352 </x-m>
   <y-m>  2.13285 </y-m>
   <z-m> -0.31244 </z-m>
  </center>
  <axis>
   <x>-1.0</x>
   <y>0.0</y>
   <z>0.0</z>
  </axis>
 </animation>

<animation>
  <type>rotate</type>
  <object-name>gearRightOuterDoor</object-name>
  <property>gear/gear[2]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 0.75</ind>
    <dep> -92.5</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep>-92.5</dep>
   </entry>
  </interpolation>
  <min-deg>-92.5</min-deg>
  <max-deg>0</max-deg>
  <axis>   
   <x1-m>  3.15291 </x1-m>
   <y1-m>  2.26718 </y1-m>
   <z1-m> -0.37753 </z1-m>
   <x2-m>  2.24979 </x2-m>
   <y2-m>  2.26655 </y2-m>
   <z2-m> -0.37756 </z2-m>
  </axis>
 </animation>

 <animation>
  <type>rotate</type>
  <object-name>gearRightInnerDoor</object-name>
  <property>gear/gear[2]/position-norm</property><!-- auto MP transmit -->
  <interpolation>
   <entry>
    <ind> 0.0</ind>
    <dep> 0.0</dep>
   </entry>
   <entry>
    <ind> 0.2</ind>
    <dep> 130</dep>
   </entry>
   <entry>
    <ind> 0.75</ind>
    <dep> 130</dep>
   </entry>
   <entry>
    <ind> 1.0</ind>
    <dep>  0</dep>
   </entry>
  </interpolation>
  <min-deg>0</min-deg>
  <max-deg>130</max-deg>
  <axis>   
   <x1-m>  3.05949 </x1-m>
   <y1-m>  0.62357 </y1-m>
   <z1-m> -0.66289 </z1-m>
   <x2-m>  1.55473 </x2-m>
   <y2-m>  0.62357 </y2-m>
   <z2-m> -0.77957 </z2-m>
  </axis>
 </animation>

<animation><!--            compress right gear-->
   <type>translate</type>
   <object-name>gearRightScissorBottom</object-name>
   <object-name>gearRightOleoStrut</object-name>
   <object-name>gearRightBottom</object-name>
   <object-name>gearRightWheel1</object-name>
   <object-name>gearRightWheel2</object-name>
   <object-name>tyre-smoke-right</object-name>
   <object-name>tyre-rain-right</object-name>
   <object-name>chockRightF</object-name>
   <object-name>chockRightB</object-name>
   <property>gear/gear[2]/compression-norm</property><!-- auto MP trasmit -->
   <factor>0.3048</factor>
   <axis>
     <z>1</z>
   </axis>
   <center>
        <x-m> 2.64670 </x-m>
        <y-m> 2.15204 </y-m>
        <z-m> -2.1 </z-m>
    </center>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearRightScissorTop</object-name>
   <property>gear/gear[2]/compression-norm</property><!-- auto MP trasmit -->
   <axis>
     <y>1</y>
   </axis>
   <center>    
     <x-m>  2.27377 </x-m>
     <y-m>  2.21946 </y-m>
     <z-m> -1.2140  </z-m>
   </center>
   <interpolation include="scissor-interpolation.xml"/>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearRightScissorBottom</object-name>
   <property>gear/gear[2]/compression-norm</property><!-- auto MP trasmit -->
   <axis>
     <y>-1</y>
   </axis>
   <center>  
     <x-m>  2.27377 </x-m>
     <y-m>  2.21946 </y-m>
     <z-m> -1.5088  </z-m>
   </center>
   <interpolation include="scissor-interpolation.xml"/>
</animation>

<!--            compress right gear when retracting-->
<animation>
   <type>translate</type>
   <object-name>gearRightScissorBottom</object-name>
   <object-name>gearRightOleoStrut</object-name>
   <object-name>gearRightBottom</object-name>
   <object-name>gearRightWheel1</object-name>
   <object-name>gearRightWheel2</object-name>
   <object-name>tyre-smoke-right</object-name>
   <object-name>tyre-rain-right</object-name>
   <property>gear/gear[2]/position-norm</property><!-- auto MP trasmit -->
   <factor>-0.3048</factor>
   <offset-m>0.3048</offset-m>
   <axis>
     <z>1</z>
   </axis>
   <center>
        <x-m> 2.64670 </x-m>
        <y-m> 2.15204 </y-m>
        <z-m> -2.1 </z-m>
    </center>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearRightScissorTop</object-name>
   <property>gear/gear[2]/position-norm</property><!-- auto MP trasmit -->
   <axis>
     <y>1</y>
   </axis>
   <center>    
     <x-m>  2.27377 </x-m>
     <y-m>  2.21946 </y-m>
     <z-m> -1.2140  </z-m>
   </center>
   <interpolation include="scissor-interpolation-retract.xml"/>
</animation>

<animation>
   <type>rotate</type>
   <object-name>gearRightScissorBottom</object-name>
   <property>gear/gear[2]/position-norm</property><!-- auto MP trasmit -->
   <axis>
     <y>-1</y>
   </axis>
   <center>  
     <x-m>  2.27377 </x-m>
     <y-m>  2.21946 </y-m>
     <z-m> -1.5088  </z-m>
   </center>
   <interpolation include="scissor-interpolation-retract.xml"/>
</animation>


<!-- spinning right wheel calc

     radius = -1.76576 - -2.07213 = 0.30637
     circum = 2*pi*radius = 1.9250
     factor = 1/circum * 60 = 0.6318 * 60 = 31.1692

1st:
1.91138 2.36257 -1.76576

2nd:
2.7215 2.36257 -1.7642

     -->
<animation>
    <type>spin</type>
    <object-name>gearRightWheel1</object-name>
    <property>gear/gear[2]/rollspeed-ms</property>
    <factor>31.1692</factor>
    <condition>
      <property>gear/gear[2]/compression-norm</property>
    </condition>
    <center>
        <x-m>  1.91138 </x-m>
        <y-m>  2.18257 </y-m>
        <z-m> -1.76420 </z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>

<animation>
    <type>spin</type>
    <object-name>gearRightWheel2</object-name>
    <property>gear/gear[2]/rollspeed-ms</property>
    <factor>31.1692</factor>
    <condition>
      <property>gear/gear[2]/compression-norm</property>
    </condition>
    <center>
        <x-m>  2.72150 </x-m>
        <y-m>  2.18257 </y-m>
        <z-m> -1.76420 </z-m>
    </center>
    <axis>
        <x>0</x>
        <y>-1</y>
        <z>0</z>
    </axis>
</animation>

  <!-- Chocks -->
  <effect>
    <inherits-from>Aircraft/JA37/Models/Effects/ja37-metal</inherits-from>
    <object-name>chockFrontF</object-name>
    <object-name>chockFrontB</object-name>
    <object-name>chockLeftF</object-name>
    <object-name>chockLeftB</object-name>
    <object-name>chockRightF</object-name>
    <object-name>chockRightB</object-name>
  </effect>

  <animation>
    <type>select</type>
    <object-name>chockFrontF</object-name>
    <object-name>chockFrontB</object-name>
    <object-name>chockLeftF</object-name>
    <object-name>chockLeftB</object-name>
    <object-name>chockRightF</object-name>
    <object-name>chockRightB</object-name>
    <condition>
      <property>controls/gear/chocks</property>
    </condition>
  </animation>

<!-- ==================================== Start effects ======================= -->


 <model>
  <name>explosion</name>
  <path>Aircraft/JA37/Models/Effects/explosion.xml</path>
  <offsets>
   <x-m>2.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>


 <!-- engine -->

 <model><!-- particle heat distortion -->
  <name>exhaust_heat</name>
  <path>Aircraft/JA37/Models/Effects/engine/exhaust.xml</path>
  <offsets>
   <x-m>6.0555</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<model><!-- dark smoke at low rpm -->
  <name>engine_smoke</name>
  <path>Aircraft/JA37/Models/Effects/engine/smoke.xml</path>
  <offsets>
   <x-m>6.825</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<!--******************************************* Pinto's edits *******************************************-->

<!-- Air Intake --> 
 <animation>
  <object-name>engineAirIntake</object-name>
  <type>spin</type>
  <property>engines/engine/rpm</property>
  <factor>1</factor>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>
 
 <!-- Air Outlet -->  
 <animation>
  <object-name>engineOutlet</object-name>
  <type>spin</type>
  <property>engines/engine/rpm</property>
  <factor>1</factor>
  <axis>
   <x>1</x>
   <y>0</y>
   <z>0</z>
  </axis>
 </animation>

  <animation>
    <type>material</type>
    <object-name>engineOutlet</object-name>
    <emission>
      <red>0.0080</red>
      <green>0.0075</green>
      <blue>0.01</blue>
      <factor-prop>engines/engine/flame</factor-prop>
    </emission>
  </animation>

  <animation><!-- I do not like this workaround -->
    <type>material</type>
    <object-name>engineOutlet</object-name>
    <emission>
      <red>0.0080</red>
      <green>0.0075</green>
      <blue>0.01</blue>
      <factor-prop>engines/engine/flame</factor-prop>
    </emission>
    <ambient>
      <red>0.01</red>
      <green>0.01</green>
      <blue>0.01</blue>
      <factor-prop>engines/engine/flame</factor-prop>
    </ambient>
    <diffuse>
      <red>0.0080</red>
      <green>0.0075</green>
      <blue>0.01</blue>
      <factor-prop>engines/engine/flame</factor-prop>
    </diffuse>
  </animation>

 <!-- Outlet Nozzles -->   
 <animation>
  <object-name>engineNozzle1</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71386</x-m>
   <y-m>0.10359</y-m>
   <z-m>-0.52878</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0.875</y>
   <z>0.125</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle2</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71392</x-m>
   <y-m>0.29147</y-m>
   <z-m>-0.44422</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0.625</y>
   <z>0.375</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle3</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71386</x-m>
   <y-m>0.43622</y-m>
   <z-m>-0.29947</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0.375</y>
   <z>0.625</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle4</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71386</x-m>
   <y-m>0.51457</y-m>
   <z-m>-0.11035</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0.125</y>
   <z>0.875</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle5</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71386</x-m>
   <y-m>0.51457</y-m>
   <z-m>0.09436</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-0.125</y>
   <z>0.875</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle6</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71392</x-m>
   <y-m>0.43623</y-m>
   <z-m>0.28348</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-0.375</y>
   <z>0.625</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle7</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.7139</x-m>
   <y-m>0.29145</y-m>
   <z-m>0.42818</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-0.625</y>
   <z>0.375</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle8</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71384</x-m>
   <y-m>0.10238</y-m>
   <z-m>0.50656</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-0.875</y>
   <z>0.125</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle9</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71384</x-m>
   <y-m>-0.10233</y-m>
   <z-m>0.50656</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-0.875</y>
   <z>-0.125</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle10</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71388</x-m>
   <y-m>-0.29144</y-m>
   <z-m>0.4282</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-0.625</y>
   <z>-0.375</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle11</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71384</x-m>
   <y-m>-0.43621</y-m>
   <z-m>0.28348</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-0.375</y>
   <z>-0.625</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle12</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71383</x-m>
   <y-m>-0.51454</y-m>
   <z-m>0.09436</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>-0.125</y>
   <z>-0.875</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle13</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71383</x-m>
   <y-m>-0.51454</y-m>
   <z-m>-0.11034</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0.125</y>
   <z>-0.875</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle14</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71382</x-m>
   <y-m>-0.43621</y-m>
   <z-m>-0.29946</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0.375</y>
   <z>-0.625</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle15</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71386</x-m>
   <y-m>-0.29147</y-m>
   <z-m>-0.44422</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0.625</y>
   <z>-0.375</z>
  </axis>
 </animation>
 
 <animation>
  <object-name>engineNozzle16</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71385</x-m>
   <y-m>-0.10234</y-m>
   <z-m>-0.52256</z-m>
  </center>
  <axis>
   <x>0</x>
   <y>0.875</y>
   <z>-0.125</z>
  </axis>
 </animation>
 
 <!--
 <animation>
  <object-name>engineNozzle</object-name>
  <type>rotate</type>
  <property>rotors/main/rpm</property>
  <factor>35.0</factor>
  <offset-deg>-35.0</offset-deg>
  <center>
   <x-m>5.71</x-m>
   <y-m></y-m>
   <z-m></z-m>
  </center>
  <axis>
   <x>0</x>
   <y></y>
   <z></z>
  </axis>
 </animation>
 -->
 <!--******************************************* my edits *******************************************-->
 
 
 <model>
  <name>ExternalFlame</name>
  <path>Aircraft/JA37/Models/Effects/engine/ExternalFlame.xml</path>
  <offsets>
   <x-m>5.50</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>
 
 <model>
  <name>ExternalFlameALS</name>
  <path>Aircraft/JA37/Models/Effects/engine/augmentationFlame.xml</path>
  <offsets>
   <x-m>5.80</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

 <model>
  <name>HeatBlurALS</name>
  <path>Aircraft/JA37/Models/Effects/engine/heatDistortion.xml</path>
  <offsets>
   <x-m>6.8</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>


<!--  other particle effects -->

  <model>
    <path>Aircraft/JA37/Models/Effects/engine/contrails/contrail.xml</path>
    <offsets>
      <x-m> 7.0</x-m>
      <y-m> 0.0</y-m>
      <z-m> 0.0</z-m> 
      <roll-deg>    0 </roll-deg>
      <pitch-deg>   0 </pitch-deg>
      <heading-deg> 0 </heading-deg>
    </offsets>
  </model>

<model>  
  <name>vapour</name>
  <path>Aircraft/JA37/Models/Effects/vapour.xml</path>
  <offsets>
   <x-m>0.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<model>
  <name>aerobatic_smoke_blue</name>
  <path>Aircraft/JA37/Models/Effects/smoke/smokeB.xml</path>
  <offsets>
   <x-m>8.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<model>
  <name>aerobatic_smoke_yellow</name>
  <path>Aircraft/JA37/Models/Effects/smoke/smokeY.xml</path>
  <offsets>
   <x-m>8.0</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

 <model><!-- dark smoke at damage or engine fire -->
  <name>damage_smoke</name>
  <path>Aircraft/JA37/Models/Effects/damage-smoke.xml</path>
  <offsets>
   <x-m>6.0555</x-m>
   <y-m>0.0</y-m>
   <z-m>0.0</z-m>
  </offsets>
 </model>

<model>
  <name>wingtip-condensation-trail-left</name>
  <path>Aircraft/JA37/Models/Effects/wingtip-vapour.xml</path>
  <offsets>
    <x-m>-0.26831</x-m>
   <y-m>-2.5873</y-m>
   <z-m>0.12828</z-m>
   <!--<x-m>5.82588</x-m>
   <y-m>-5.11376</y-m>
   <z-m>-0.39589</z-m>-->
  </offsets>
 </model>

<model>
  <name>wingtip-condensation-trail-right</name>
  <path>Aircraft/JA37/Models/Effects/wingtip-vapour.xml</path>
  <offsets>
    <x-m>-0.26831</x-m>
   <y-m>2.5873</y-m>
   <z-m>0.12828</z-m>
   <!--<x-m>5.82588</x-m>
   <y-m>5.11376</y-m>
   <z-m>-0.39589</z-m>-->
  </offsets>
 </model>

<!--         transsonic-vapor-cones               -->

 <model>
    <path>Aircraft/JA37/Models/Effects/mach-cone.xml</path>
    <name>MachCone</name>
    <offsets>
      <x-m>0.3</x-m>
      <y-m>0.0</y-m>
      <z-m>0</z-m>
    </offsets>
  </model>

<!--         tyresmoke               -->

<model>
  <path>Aircraft/Generic/Effects/tyre-smoke-nose.xml</path>
  <name>tyre-smoke-nose</name>
  <offsets>
    <x-m> -3.65342 </x-m>
    <y-m> 0 </y-m>
    <z-m> -2.1 </z-m>
  </offsets>
</model>

<model>
 <path>Aircraft/Generic/Effects/tyre-smoke-port.xml</path>
 <name>tyre-smoke-left</name>
 <offsets>
  <x-m> 2.64670 </x-m>
  <y-m> -2.15204 </y-m>
  <z-m> -2.1 </z-m>
 </offsets>
</model>

<model>
 <path>Aircraft/Generic/Effects/tyre-smoke-stbd.xml</path>
 <name>tyre-smoke-right</name>
 <offsets>
   <x-m> 2.64670 </x-m>
   <y-m> 2.15204 </y-m>
   <z-m> -2.1 </z-m>
 </offsets>
</model>

<model>
  <path>Aircraft/Generic/Effects/rain-nose.xml</path>
  <name>tyre-rain-nose</name>
  <offsets>
    <x-m> -3.65342 </x-m>
    <y-m> 0 </y-m>
    <z-m> -2.1 </z-m>
  </offsets>
</model>

<model>
 <path>Aircraft/Generic/Effects/rain-port.xml</path>
 <name>tyre-rain-left</name>
 <offsets>
  <x-m> 2.64670 </x-m>
  <y-m> -2.15204 </y-m>
  <z-m> -2.1 </z-m>
 </offsets>
</model>

<model>
 <path>Aircraft/Generic/Effects/rain-stbd.xml</path>
 <name>tyre-rain-right</name>
 <offsets>
   <x-m> 2.64670 </x-m>
   <y-m> 2.15204 </y-m>
   <z-m> -2.1 </z-m>
 </offsets>
</model>

 <!-- end effects -->


<!-- ===================== START LIGHTING =========================== -->

  <!-- beacon lights -->

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/beacon-light.xml</path>
    <name>lightglowT</name>
    <offsets>
      <x-m> 0.45039</x-m>
      <y-m> 0</y-m>
      <z-m> 1.05</z-m>
      <pitch-deg>10</pitch-deg>
    </offsets>
  </model>

  <animation>
    <type>spin</type>
    <object-name>lightglowT</object-name>
    <property>sim/multiplay/generic/bool[2]</property> <!-- /ja37/effect/beacon-light -->
    <factor>60</factor>
    <center>
      <x-m> 0.45039</x-m>
      <y-m> 0</y-m>
      <z-m> 1.05</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>1</z>
    </axis>
  </animation>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/beacon-light.xml</path>
    <name>lightglowB</name>
    <offsets>
      <x-m> -1.94198</x-m>
      <y-m> 0</y-m>
      <z-m> -0.85089</z-m>
      <pitch-deg>-10</pitch-deg>
    </offsets>
  </model>

  <animation>
    <type>spin</type>
    <object-name>lightglowB</object-name>
    <property>sim/multiplay/generic/bool[2]</property> <!-- /ja37/effect/beacon-light -->
    <factor>60</factor>
    <center>
      <x-m> -1.94198</x-m>
      <y-m> 0</y-m>
      <z-m> -0.85089</z-m>
    </center>
    <axis>
      <x>0</x>
      <y>0</y>
      <z>1</z>
    </axis>
  </animation>

  <animation>
    <type>material</type>
    <object-name>lightTop</object-name>
    <object-name>aj37lightBottom</object-name>
    <condition>
      <property>ja37/effect/beacon-light</property>
    </condition>
    <emission>
      <red>0.5</red>
      <green>0.0</green>
      <blue>0.0</blue>
    </emission>
  </animation>

  <!-- landing light -->
  <animation>
    <type>material</type>
    <object-name>gearFrontLight</object-name>
    <condition>
      <property>ja37/effect/taxi-light</property>
    </condition>
    <emission>
      <red>1.0</red>
      <green>1.0</green>
      <blue>1.0</blue>
    </emission>
  </animation>

  <animation>
    <type>material</type>
    <object-name>landingLight</object-name>
    <condition>
      <property>ja37/effect/landing-light</property>
    </condition>
    <emission>
      <red>1.0</red>
      <green>1.0</green>
      <blue>1.0</blue>
    </emission>
  </animation>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/taxi-light.xml</path>
    <name>frontLandingLightGlare</name>
    <offsets>
      <x-m>-3.47732</x-m>
      <y-m>-0.000005</y-m>
      <z-m>-1.2121</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/landing-light.xml</path>
    <name>leftLandingLightGlare</name>
    <offsets>
      <x-m>-3.91114</x-m>
      <y-m>-0.137806</y-m>
      <z-m>-0.769589</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/landing-light.xml</path>
    <name>rightLandingLightGlare</name>
    <offsets>
      <x-m>-3.69526</x-m>
      <y-m>0.140439</y-m>
      <z-m>-0.769589</z-m>
    </offsets>
  </model>

  <!-- Navigation lights -->
  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/nav-light-left.xml</path>
    <name>lightGlowALSLeft</name>
    <offsets>
      <x-m> 5.65783</x-m>
      <y-m> -5.13762</y-m>
      <z-m> -0.3954</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/nav-light-right.xml</path>
    <name>lightGlowALSRight</name>
    <offsets>
      <x-m> 5.65783</x-m>
      <y-m> 5.13762</y-m>
      <z-m> -0.3954</z-m>
    </offsets>
  </model>
  
  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/nav-light-rear.xml</path>
    <name>lightGlowALSRearLeft</name>
    <offsets>
      <x-m> 5.83413</x-m>
      <y-m> -5.12862</y-m>
      <z-m> -0.395052</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/nav-light-rear.xml</path>
    <name>lightGlowALSRearRight</name>
    <offsets>
      <x-m> 5.83413</x-m>
      <y-m> 5.12862</y-m>
      <z-m> -0.395052</z-m>
    </offsets>
  </model>

  <animation>
    <type>material</type>
    <object-name>lightLeft</object-name>
    <condition>
      <property>ja37/effect/navigation-light</property>
    </condition>
    <emission>
      <red>1.0</red>
      <green>0.0</green>
      <blue>0.0</blue>
    </emission>
  </animation>

  <animation>
    <type>material</type>
    <object-name>lightRight</object-name>
    <condition>
      <property>ja37/effect/navigation-light</property>
    </condition>
    <emission>
      <red>0.0</red>
      <green>1.0</green>
      <blue>0.0</blue>
    </emission>
  </animation>

  <animation>
    <type>material</type>
    <object-name>lightRearLeft</object-name>
    <object-name>lightRearRight</object-name>
    <condition>
      <property>ja37/effect/rear-navigation-light</property>
    </condition>
    <emission>
      <red>1.0</red>
      <green>1.0</green>
      <blue>1.0</blue>
    </emission>
  </animation>

  <!-- formation lights -->
  <animation>
    <type>material</type>
    <object-name>lightFormationFrontRight</object-name>
    <object-name>lightFormationFrontLeft</object-name>
    <object-name>lightFormationRearRight</object-name>
    <object-name>lightFormationRearLeft</object-name>
    <!-- Formation lights are yellow when off, green when on.
         To get the correct effect, the texture is white and materials are adjusted.
    -->
    <diffuse>
      <red>0.6</red>
      <green>0.6</green>
      <blue>0.2</blue>
    </diffuse>
    <ambient>
      <red>0.6</red>
      <green>0.6</green>
      <blue>0.2</blue>
    </ambient>
    <specular>
      <red>0.3</red>
      <green>0.3</green>
      <blue>0.1</blue>
    </specular>
    <emission>
      <red>0.003</red>
      <green>0.010</green>
      <blue>0.005</blue>
      <factor-prop>ja37/effect/formation-light</factor-prop><!-- (0-100 scale) -->
    </emission>
  </animation>

  <!-- rear spotlights -->
  <animation>
    <type>material</type>
    <object-name>spotlightCenterLeft</object-name>
    <object-name>spotlightCenterRight</object-name>
    <object-name>spotlightElevonLeft</object-name>
    <object-name>spotlightElevonRight</object-name>
    <condition>
      <property>ja37/effect/formation-light</property>
    </condition>
    <emission>
      <red>1.0</red>
      <green>1.0</green>
      <blue>1.0</blue>
    </emission>
  </animation>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/spotlight.xml</path>
    <name>spotlightCenterLeftGlow</name>
    <offsets>
      <x-m> 6.8272</x-m>
      <y-m> -0.823135</y-m>
      <z-m> -0.265531</z-m>
    </offsets>
  </model>
  
  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/spotlight.xml</path>
    <name>spotlightCenterRightGlow</name>
    <offsets>
      <x-m> 6.8272</x-m>
      <y-m> 0.823135</y-m>
      <z-m> -0.265531</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/spotlight.xml</path>
    <name>spotlightElevonLeftGlow</name>
    <offsets>
      <x-m> 6.41439</x-m>
      <y-m> -3.9517</y-m>
      <z-m> -0.387925</z-m>
    </offsets>
  </model>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/spotlight.xml</path>
    <name>spotlightElevonRightGlow</name>
    <offsets>
      <x-m> 6.41439</x-m>
      <y-m> 3.9517</y-m>
      <z-m> -0.387925</z-m>
    </offsets>
  </model>


<!-- ===================== start payload =========================== -->

<!-- ====== rb 24j/74 ====== -->

 <effect>
    <inherits-from>Aircraft/JA37/Models/Effects/ja37-metal-paint</inherits-from>
    <object-name>missile</object-name>
    <object-name>missile1</object-name>
    <object-name>missile2</object-name>
    <object-name>missile3</object-name>
    <object-name>missileLWO</object-name>
    <object-name>missileRWO</object-name>
  </effect>

  <animation>
    <object-name>missile</object-name><!-- Left wing pylon -->
    <type>select</type>
    <condition>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <equals>
        <property>payload/armament/station/id-1-type-id</property>
        <value>1</value>
      </equals>
    </condition>
  </animation>

  <animation>
    <object-name>missile2</object-name><!-- Left fuselage pylon -->
    <type>select</type>
    <condition>
      <equals>
        <property>payload/armament/station/id-2-type-id</property>
        <value>1</value>
      </equals>
    </condition>
  </animation>

  <animation>
    <object-name>missile1</object-name><!-- Right wing pylon -->
    <type>select</type>
    <condition>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <equals>
        <property>payload/armament/station/id-3-type-id</property>
        <value>1</value>
      </equals>
    </condition>
  </animation>

  <animation>
    <object-name>missile3</object-name><!-- Right fuselage pylon -->
    <type>select</type>
    <condition>
      <equals>
        <property>payload/armament/station/id-4-type-id</property>
        <value>1</value>
      </equals>
    </condition>
  </animation>

  <animation>
    <object-name>missileLWO</object-name><!-- Left outer wing pylon -->
    <type>select</type>
    <condition>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <property>payload/armament/station/id-5-count</property>
    </condition>
  </animation>

  <animation>
    <object-name>missileRWO</object-name><!-- Right outer wing pylon -->
    <type>select</type>
    <condition>
      <property>fdm/jsbsim/structural/wings/serviceable</property>
      <property>payload/armament/station/id-6-count</property>
    </condition>
  </animation>

</PropertyList>
